# Introduction of TICHR

<div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #8a6d3b;; background-color: #fcf8e3; border-color: #faebcc;">
<b>We are submitting the TICHR paper for publication and welcome any feedback to improve this multiomics integration tool.</b>
</div>

---

## Background

### Purpose

<img src="_static/logo.png" style="zoom:30%;" />

Deciphering transcriptional regulation across multiple omics layers is essential for understanding cellular processes and disease mechanisms, yet remains challenging due to the limited direct connections among epigenomic, 3D genomic, and transcriptomic data. Here, we present TICHR (Transcriptional regulation analysis by integrating ChIP-seq, Hi-C and RNA-seq), a scalable multiomics integration framework that quantifies both site-to-gene and gene-level regulation through diverse weighting strategies, enabling genome-wide characterization of regulatory programs.

### Functions

<img src="_static/introduction/001.png" style="zoom:80%;" />

TICHR offered sophisticated downstream functions to address diverse research questions for transcriptional regulation, including enhancer prediction, attribution of transcriptional changes, assessment of regulation–transcription concordance, identification of context-specific regulations, cross-sample analysis of large-scale and single-cell data, and characterization of time-series transcriptional dynamics. These multi-task capabilities establish TICHR as an efficient framework for studying complex transcriptional mechanisms.

---

## Installation

TICHR is developed based on Python 3.11.5. In theory, any Python version newer than 3.11.5 should be compatible. However, if you encounter any issues, we recommend creating an isolated environment with Python 3.11.5 using Conda.

### Requirement

**Linux/Shell** packages:
-  Bedtools (https://bedtools.readthedocs.io/)

**Python** packages:
-   numpy
-   pandas
-   scipy
-   matplotlib
-   seaborn
-   pyBigWig
-   scikit-learn
-   hic-straw
-   statsmodels
-   pyranges
-   tqdm
-   adjustText
-   umap-learn

**Optional** (not required for core function)
- rpy2
- joblib
- multiprocessing
- xgboost

### Install

You can install the latest version of TICHR <u>from PyPI using pip</u>:

``` shell
pip install tichr
```

Alternatively, you can install TICHR from the <u>source code</u> on GitHub:

``` shell
git clone https://github.com/wangjk321/Tichr
cd Tichr
python setup.py install
```
---

## Usage and tutorial

### Quick start

There are two ways to use TICHR

1. **Command Line Interface (CLI)** — This is the most straightforward method for most users. After installation, you can check the available commands with:

``` shell
tichr --help
```

The current CLI provides functionality for the two core purposes of TICHR.You can see the descriptions [here](./CLI.md).

- Compute regulatory scores: site-to-gene–level RgX values; gene-level Rg values.
- Identify context-specific repressive regulation


2. **Python Module** — Advanced users can import TICHR as a Python package and use its functions programmatically. For example:

``` python
from tichr.tichr import *
from tichr.siteToGene import *
```

The python package include all TICHR functions.

### Data input format

1. **For the core computation functions of TICHR**
   - **ChIP-seq**: Supported input formats include `BAM`, `bigWig`, and `bedGraph`.
   - **Hi-C**: Supported input formats include `.hic` (Juicer), `.matrix.gz` (dense matrix), and other popular Hi-C formats such as `cool`.
   - **RNA-seq**: A tab-separated expression table.

2. **For downstream analyses in TICHR**
   - **RgX table files** representing site-to-gene (S2G) regulation.
   - **Rg table files** representing gene-level regulation.
   - Other related input files required by specific downstream modules.


### Deposited Data

Test data used in this document can be found at **Zenodo** https://zenodo.org/records/17629590 

<div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 10px; color: #000000ff;; background-color: #b5cabaff; border-color: #faebcc;">
The test data are selected to minimize file size, so the output may differ slightly from the results shown in this tutorial.
</div>

### Workflow

**Although the individual functions of TICHR were described separately, they could be streamlined into a typical workflow**：

<img src="_static/introduction/002.png" style="zoom:80%;" />

You can find detailed usage instructions for them in the following chapters.